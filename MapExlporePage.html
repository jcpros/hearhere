<!DOCTYPE html>
<html lang="eng">
<head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <link rel="stylesheet" href = "MapPageStyle.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css"/>
    <link href ="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel = "stylesheet">

    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>

    <style>
        #map {position: absolute; top: 0; bottom: 0; left: 0; right: 0;}
    </style>
    <meta charset= "UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <title> Map Explorer </title>
    <meta name ="viewport" content= "width-device-width, initial-scale-1.0">
</head>
<body>
    <h1>
        Listen to the World!
    </h1>
    <p> Double-Click on a mark </br>See what happens ; &#41;</p>
    <div id="map" class = "mainMap">
    <script>
      // Initialize and visualize map
        var map = L.map('map').setView([45.49539563050029, -73.57772497670183],1);
      // Add the map layer (the look)
        var mainTiles = L.tileLayer('https://api.maptiler.com/maps/aquarelle/{z}/{x}/{y}.webp?key=je7BvvIYMGMLvHIYQRun',{
            attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'
        });
        mainTiles.addTo(map);
        // Create a Marker with Popup + Display.
        var marker1 = L.marker([45.59442421476991, -73.52496832622988]).addTo(map);
        marker1.bindPopup("<b> Honoré-Beaugrand Metro Station </b>").openPopup();

        var marker2 = L.marker([45.69608519479976, -73.63773472945574]).addTo(map);
        marker2.bindPopup("<b> Collège Saint Sacrement Football Games </b>").openPopup();
        //Function that happens on click - redirects to new page
        marker1.on('dblclick', redirect =>{
          document.location.href = "MarkerListenPage.html";
        });
        marker2.on('dblclick', redirect =>{
          document.location.href = "MarkerListenPage2.html";
        });
    </script>
    </div> 
</body>
</html>